{
    "contents" : "---\ntitle: \"Statistical Inference Course Project 1\"\nauthor: \"Anuar Imanbayev\"\ndate: \"January 30, 2016\"\noutput: html_document\n---\n\nGitHub Link (PDF, Markdown, Html): \n\n```{r global_options, include=FALSE}\nlibrary(knitr)\nopts_chunk$set(fig.width=7, fig.height=4, warning=FALSE, message=FALSE)\n```\n\n## Comparison of Exponential Distribution to the Central Limit Theorem\n\n## Overview\nIn this project, we will investigate the exponential distribution in R and compare it with the Central Limit Theorem. The exponential distribution can be simulated in R with rexp(n, lambda) where lambda is the rate parameter. The mean of exponential distribution is 1/lambda and the standard deviation is also 1/lambda. Set lambda = 0.2 for all of the simulations. We will investigate the distribution of averages of 40 exponentials. Note that we will need to do a thousand simulations. \n\nIllustrate via simulation and associated explanatory text the properties of the distribution of the mean of 40 exponentials. We should:\n        1. Show the sample mean and compare it to the theoretical mean of the distribution.\n        2. Show how variable the sample is (via variance) and compare it to the theoretical variance of the distribution.\n        3. Show that the distribution is approximately normal.\n       \n## Simulations\n\n### Sample Mean vs Theoretical Mean\nWe will run a series of 1000 simulations to create a data set for comparison to theory. Each simulation will contain 40 observations and the exponential distribution function will be set to “rexp(40, 0.2)”.\n\nKnown values: lambda = 0.2, n = 40, simulations = 1000\n```{r}\n          \n          # Load neccesary libraries\n          library(ggplot2)\n          \n          # Set constants\n          lambda = 0.2\n          n = 40 \n          nosim = 1000\n\n          set.seed(756)\n```\n\nThe following code performs the simulations to collect necessary data, then plots the data:\n```{r}\n            exp_sim <- function(n, lambda)\n            {\n                      mean(rexp(n,lambda))\n            }\n            \n            sim <- data.frame(ncol=2,nrow=1000)\n            names(sim) <- c(\"Index\",\"Mean\")\n\n            for (i in 1:nosim)\n            {\n                      sim[i,1] <- i\n                      sim[i,2] <- exp_sim(n,lambda)\n            }\n```\n\n### Mean of n = 1000\n```{r}\n        sample_mean <- mean(sim$Mean)\n        sample_mean\n```\n\nHistogram of sample means\n\n```{r}\nexp_dis <- matrix(data=rexp(n * nosim, lambda), nrow=nosim)\nexp_dis_means <- data.frame(means=apply(exp_dis, 1, mean))\n\n\nggplot(data = exp_dis_means, aes(x = means)) + \n        geom_histogram(binwidth=0.1) +   \n        ggtitle(\"Hiistogram of Sample Means\") +\n        scale_x_continuous(breaks=round(seq(min(exp_dis_means$means), max(exp_dis_means$means), by=1)))\n```\n\n### Theoretical exponential mean of exponential distribution\n\nThe expected mean $\\mu$ of a exponential distribution of rate $\\lambda$ is \n\n$\\mu= \\frac{1}{\\lambda}$\n\n```{r}        \n        theor_mean <- 1/lambda\n        theor_mean\n```\n\nThe simulation mean of 4.972894 is close to the theoretical value of 5. In other words, the expected theoretical mean of 5 and the average sample mean of 4.97 are very close. \n\nHistogram plot of the exponential distribution n = 1000\n```{r}\n                \n        hist(sim$Mean, \n                breaks=100, \n                prob=TRUE, \n                main=\"Exponential Distribution n = 1000\", \n                xlab=\"Spread\")\n                        abline(v = theor_mean, \n                                col= 4,\n                                lwd = 2)\n                        abline(v = sample_mean, \n                                col = 2,\n                                lwd = 2)\n\n                legend('topright', c(\"Sample Mean\", \"Theoretical Mean\"), \n                                lty=c(1,1), \n                                bty = \"n\",\n                                col = c(col=2, col=4))\n\n```\n\n## Sample Variance vs. Theoretical Variance\nWe now turn our attention to the variance. We will compare the variance present in the sample means of the 1000 simulations to the theoretical variance of the population.\n\nThe variance of the sample means estimates the variance of the population by using the variance of the 1000 entries in the means vector times the sample size, 40. \n\nThe expected standard deviation $\\sigma$ of a exponential distribution of rate $\\lambda$ is \n\n$\\sigma = \\frac{1/\\lambda}{\\sqrt{n}}$\n\nThe variance $Var$ of standard deviation $\\sigma$ is\n\n$Var = \\sigma^2$ \n\nThis nets us the following: $\\sigma^2$=Var(samplemeans)×N.\n```{r}\n\n              sample_var <- var(sim$Mean)\n              theor_var <- ((1/lambda)^2)/n\n\n```\n\nThe theoretical variance of the population is given by $\\sigma^2$=(1/lambda)2.\n```{r}\n\n              sample_var\n              theor_var\n\n```\n\nThus, the variances are still fairly close, even given the fact that variance is the square of the standard deviations which enhances minor differences.\n\n## Sample Distribution vs. Theoretical Distribution\n\n```{r}\n                        \n          hist(sim$Mean, \n                        breaks = 100, \n                        prob = TRUE, \n                        main =\"Exponential Distribution n = 1000\", \n                        xlab =\"Spread\")\n                        xfit <- seq(min(sim$Mean), max(sim$Mean), length = 100)\n                        yfit <- dnorm(xfit, mean = 1/lambda, sd = (1/lambda/sqrt(40)))\n                        lines(xfit, yfit, pch=22, col=4, lty=2, lwd=2)\n                        legend('topright', c(\"Theoretical Curve\"), bty=\"n\", lty=2,lwd=2, col=4)\n\n```\n\n\n```{r}\n                        \n          hist(sim$Mean, \n                        breaks = 100, \n                        prob = TRUE, \n                        main = \"Distribution of Simulated Exponential Distribution\", xlab=\"\")\n                        lines(density(sim$Mean), col=3, lwd=2)\n                        abline(v = 1/lambda, col = 4, lwd=4)\n                        xfit <- seq(min(sim$Mean), max(sim$Mean), length = 100)\n                        yfit <- dnorm(xfit, mean = 1/lambda, sd = (1/lambda/sqrt(40)))\n                        lines(xfit, yfit, pch=22, col=4, lty=2, lwd=2)\n                        legend('topright', c(\"Simulated Values\", \"Theoretical Values\"),\n                        bty=\"n\", lty=c(1,2), col=c(3,4))\n\n```\n\nThus, the calculated distribution of means of random sampled exponential distributions overlaps fairly closely with the normal distribution of expected theoretical values based on the given lambda.\n\n\n## Conclusion: Distribution is approximately normal\n\nThe close values of both the sample mean and variances to theoretical expected mean and variances suggest normality. The bell-shaped distribution shape of the simulated data that closely matches the theoretical curve also suggests normality. Additionally, the q-q plot below displays that theoretical quantiales again match closely with the actual quantiles. Together, these four methods (means, variances, distribution shape, quantiles) prove that the distribution is approximately normal.\n\n```{r}\n\n            qqnorm(sim$Mean, \n                            main =\"Normal Q-Q Plot\")\n                            qqline(sim$Mean, \n                            col = \"4\")\n\n```",
    "created" : 1454202291536.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2578771366",
    "id" : "90AE0500",
    "lastKnownWriteTime" : 1454195233,
    "path" : "C:/Users/Anuar Imanbayev/Desktop/DataScienceCourse/DSC_Working_Directory/SI_Project/project1.Rmd",
    "project_path" : "project1.Rmd",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 4,
    "source_on_save" : false,
    "type" : "r_markdown"
}